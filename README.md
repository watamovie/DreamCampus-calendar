# DreamCampus to Calendar

iOS ショートカットで抽出した **イベント JSON** から
ブラウザだけで一括 **.ics** ファイルを生成する React + Vite 製アプリです。

## 特徴
| 機能 | 説明 |
|------|------|
| クリップボード読込 | `navigator.clipboard.readText()` 対応。テキストボックスへの貼り付けも可 |
| 欠落補完 UI | 日付と時刻、科目名が必須。その他が空欄なら黄色で警告しつつ ICS 生成可 |
| 自動分類 | `DESCRIPTION` 内のキーワードから **対面 / zoom / オンデマ** を推定し、DESCRIPTION を編集すると自動で再判定 |
| LOCATION 抽出 | `/ ○○室 /` パターンを正規表現で抜き出し、DESCRIPTION 変更時にも反映 |
| DESCRIPTION 保持 | 改行をそのままエスケープして ICS の `DESCRIPTION` に反映 |
| 完全 Frontend | **ics-js** を用いてクライアント側で .ics テキストを生成 → Blob → ダウンロード |
| 場所未入力許可 | 対面でも場所が空の場合は黄色で警告。空欄のままでも ICS 作成可能 |
| 編集内容反映 | テーブルで補った予定もそのまま ICS に反映 |
| 補完後も有効 | JSON で欠けていた項目を後から入力しても出力に反映 |
| 追加 | JSON に無い予定をテーブルから新規に追加可能 |
| ローカル保存 | 編集内容を自動保存し、次回アクセス時に復元 |

## iOS ショートカットの流れ
1. 時間割ページを共有シートからショートカット実行
2. JavaScript がページ上で走り時間割を JSON 化
3. 生成した JSON をクリップボードへ自動コピー
4. 直後に本アプリの URL をブラウザで開く
5. ページ読み込み時にクリップボードを自動読込。失敗した場合は ⌘V で貼り付け

## 使い方
1. iOS ショートカットを実行し、イベント JSON をクリップボードへコピー
2. 本アプリを開くとクリップボードの内容が自動で入力されます。読めない場合はテキストボックスへ貼り付けるか **ペースト** ボタンを押してください
3. 欠落セルを編集して **カレンダーに追加** ボタンでインポート

## ショートカットキー
| キー | 動作 |
|------|------|
| `Ctrl`/`⌘` + `Shift` + `V` | クリップボード読込 |
| `Ctrl`/`⌘` + `N` | 行を追加 |
| `Ctrl`/`⌘` + `Enter` | カレンダーに追加 |
| `Ctrl`/`⌘` + `Shift` + `D` | 全データ削除 |
| `Esc` | 編集画面を閉じる |

## 開発コマンド
```bash
npm i          # 依存解決
npm run dev    # ローカルサーバ
npm run build  # 本番ビルド (dist/)
npm run preview # dist/ 内容を確認
```
